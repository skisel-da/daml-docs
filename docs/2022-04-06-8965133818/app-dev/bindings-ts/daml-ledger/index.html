<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title></title><meta name="description" content="Documentation for "/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title"></a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1></h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#damlledger" id="damlledger" style="color: inherit; text-decoration: none;">
  <h1>@daml/ledger</h1>
</a>
<blockquote>
<p>Client side API implementation for a Daml based ledgers. This library implements the <a href="https://docs.daml.com/json-api/index.html">JSON
API</a> for a Daml ledger.</p>
</blockquote>

<a href="#documentation" id="documentation" style="color: inherit; text-decoration: none;">

</a>

<a href="https://docs.daml.com/{sdk_version}/app-dev/bindings-ts/daml-ledger/index.html">here</a>.</p>

<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
  <h2>Usage</h2>
</a>
<p>The best way to get you started quickly is to use the <code>create-daml-app</code> template:</p>
<pre><code><span class="hl-0">daml</span><span class="hl-1"> </span><span class="hl-2">new</span><span class="hl-1"> --</span><span class="hl-0">template</span><span class="hl-1">=</span><span class="hl-0">create</span><span class="hl-1">-</span><span class="hl-0">daml</span><span class="hl-1">-</span><span class="hl-0">app</span><span class="hl-1"> </span><span class="hl-0">my</span><span class="hl-1">-</span><span class="hl-0">project</span><span class="hl-1">-</span><span class="hl-0">name</span>
</code></pre>
<p>and to read the <a href="https://docs.daml.com/getting-started/quickstart.html">Quickstart Guide</a>.</p>
<p>We recommend to use the <a href="https://reactjs.org">React</a> framework and the <code>@daml/react</code> library to
build frontends for Daml applications. If you choose a different Javascript based framework, please
take a look at the source of <code>@daml/react</code> and it&#39;s usage of the <code>@daml/ledger</code> library.</p>
<p>The main export of <code>@daml/ledger</code> is the <code>Ledger</code> class. It&#39;s constructor takes an authentication
token used to communicate with the <a href="https://docs.daml.com/json-api/index.html">JSON API</a>, an HTTP
base URL and a websocket base URL.</p>
<p>An instance of the <code>Ledger</code> class provides the following methods to communicate with a Daml ledger.
Please consult the
<a href="https://docs.daml.com/app-dev/bindings-ts/daml-ledger/classes/_index_.ledger.html">documentation</a>
for their exact signatures.</p>

<a href="#create" id="create" style="color: inherit; text-decoration: none;">
  <h2><code>create</code></h2>
</a>
<p>Create a new contract of the given template with given arguments.</p>

<a href="#archive" id="archive" style="color: inherit; text-decoration: none;">
  <h2><code>archive</code></h2>
</a>
<p>Archive a contract identified by its contract id.</p>

<a href="#archivebykey" id="archivebykey" style="color: inherit; text-decoration: none;">
  <h2><code>archiveByKey</code></h2>
</a>
<p>Archive a contract identified by its contract key.</p>

<a href="#exercise" id="exercise" style="color: inherit; text-decoration: none;">
  <h2><code>exercise</code></h2>
</a>
<p>Exercise a choice on a contract identified by its contract id.</p>

<a href="#exercisebykey" id="exercisebykey" style="color: inherit; text-decoration: none;">
  <h2><code>exerciseByKey</code></h2>
</a>
<p>Exercise a choice on a contract identified by its contract key.</p>

<a href="#createandexercise" id="createandexercise" style="color: inherit; text-decoration: none;">
  <h2><code>createAndExercise</code></h2>
</a>
<p>Create a new contract and, within the same transaction, immediately exercise a
choice on it. Primarily meant for consuming choices, but that&#39;s not a
requirement.</p>

<a href="#query" id="query" style="color: inherit; text-decoration: none;">
  <h2><code>query</code></h2>
</a>
<p>Retrieve contracts for a given template matching a given query. If no query is given, all contracts
of that template visible for the submitting party are returned.</p>

<a href="#streamquery" id="streamquery" style="color: inherit; text-decoration: none;">
  <h2><code>streamQuery</code></h2>
</a>
<blockquote>
<p>Deprecated: prefer <code>streamQueries</code>.</p>
</blockquote>
<p>Retrieve a consolidated stream of events for a given template and optional
query. The accumulated state is the current set of active contracts matching
the query if one was given; if the function was called without a query
argument, or the query argument was <code>undefined</code>, the accumulated state will
instead contain all of the active contracts for the given template.</p>

<a href="#streamqueries" id="streamqueries" style="color: inherit; text-decoration: none;">
  <h2><code>streamQueries</code></h2>
</a>
<p>Retrieve a consolidated stream of events for a given template and queries. The
accumulated state is the current set of active contracts matching at least one
of the given queries, or all contracts for the given template if no query is
given.</p>

<a href="#fetch" id="fetch" style="color: inherit; text-decoration: none;">
  <h2><code>fetch</code></h2>
</a>
<p>Fetch a contract identified by its contract id.</p>

<a href="#fetchbykey" id="fetchbykey" style="color: inherit; text-decoration: none;">
  <h2><code>fetchByKey</code></h2>
</a>
<p>Fetch a contract identified by its contract key.</p>

<a href="#streamfetchbykey" id="streamfetchbykey" style="color: inherit; text-decoration: none;">
  <h2><code>streamFetchByKey</code></h2>
</a>
<blockquote>
<p>Deprecated: prefer <code>streamFetchByKeys</code>.</p>
</blockquote>
<p>Retrieve a consolidated stream of <code>CreateEvent</code>&#39;s for a given template and
contract key. The accumulated state is either the <code>CreateEvent</code> for the active
contract matching the given key, or null if there is no currently-active
contract for the given key.</p>

<a href="#streamfetchbykeys" id="streamfetchbykeys" style="color: inherit; text-decoration: none;">
  <h2><code>streamFetchByKeys</code></h2>
</a>
<p>Retrieve a consolidated stream of <code>CreateEvent</code>&#39;s for a given template and
contract keys. The accumulated state is a vector of the same length as the
given vector of keys, where each element is the CreateEvent for the current
active contract of the corresponding key (element-wise), or null if there is no
current active contract for that key.</p>
<p>Note: the given <code>key</code> objects will be compared for (deep) equality with the
values returned by the API. As such, they have to be given in the &quot;output&quot;
format of the JSON API. See the <a href="https://docs.daml.com/json-api/lf-value-specification.html">JSON API docs</a> for details.</p>

<a href="#getparties" id="getparties" style="color: inherit; text-decoration: none;">
  <h2><code>getParties</code></h2>
</a>
<p>For a given list of party identifiers, return full information, or null if
the party doesn&#39;t exist.</p>

<a href="#listknownparties" id="listknownparties" style="color: inherit; text-decoration: none;">
  <h2><code>listKnownParties</code></h2>
</a>
<p>Return an array of PartyInfo for all parties on the ledger.</p>

<a href="#allocateparty" id="allocateparty" style="color: inherit; text-decoration: none;">
  <h2><code>allocateParty</code></h2>
</a>
<p>Allocate a new party.</p>

<a href="#getuser" id="getuser" style="color: inherit; text-decoration: none;">
  <h2><code>getUser</code></h2>
</a>
<p>Returns the current User implicitly described by the currently used JWT.</p>

<a href="#listpackages" id="listpackages" style="color: inherit; text-decoration: none;">
  <h2><code>listPackages</code></h2>
</a>
<p>Fetch a list of all known package IDs.</p>

<a href="#getpackage" id="getpackage" style="color: inherit; text-decoration: none;">
  <h2><code>getPackage</code></h2>
</a>
<p>Given a package ID, fetch the binary data for the corresponding DALF.</p>

<a href="#uploaddarfile" id="uploaddarfile" style="color: inherit; text-decoration: none;">
  <h2><code>uploadDarFile</code></h2>
</a>
<p>Upload a given byte array as a DAR to the ledger. Note that this requires a
token with admin access.</p>

<a href="#source" id="source" style="color: inherit; text-decoration: none;">
  <h2>Source</h2>
</a>
<p><a href="https://github.com/digital-asset/daml/tree/main/language-support/ts/daml-ledger">https://github.com/digital-asset/daml/tree/main/language-support/ts/daml-ledger</a></p>

<a href="#license" id="license" style="color: inherit; text-decoration: none;">
  <h2>License</h2>
</a>
<p><a href="https://github.com/digital-asset/daml/blob/main/LICENSE">Apache-2.0</a></p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-enum"><a href="enums/WsState.html" class="tsd-kind-icon">Ws<wbr/>State</a></li><li class="tsd-kind-class"><a href="classes/UserRightHelper.html" class="tsd-kind-icon">User<wbr/>Right<wbr/>Helper</a></li><li class="tsd-kind-class"><a href="classes/default.html" class="tsd-kind-icon">default</a></li><li class="tsd-kind-interface tsd-has-type-parameter"><a href="interfaces/Stream.html" class="tsd-kind-icon">Stream</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#ArchiveEvent" class="tsd-kind-icon">Archive<wbr/>Event</a></li><li class="tsd-kind-type-alias"><a href="modules.html#CanActAs" class="tsd-kind-icon">Can<wbr/>Act<wbr/>As</a></li><li class="tsd-kind-type-alias"><a href="modules.html#CanReadAs" class="tsd-kind-icon">Can<wbr/>Read<wbr/>As</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#CreateEvent" class="tsd-kind-icon">Create<wbr/>Event</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#Event" class="tsd-kind-icon">Event</a></li><li class="tsd-kind-type-alias"><a href="modules.html#PackageId" class="tsd-kind-icon">Package<wbr/>Id</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ParticipantAdmin" class="tsd-kind-icon">Participant<wbr/>Admin</a></li><li class="tsd-kind-type-alias"><a href="modules.html#PartyInfo" class="tsd-kind-icon">Party<wbr/>Info</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#Query" class="tsd-kind-icon">Query</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#QueryResult" class="tsd-kind-icon">Query<wbr/>Result</a></li><li class="tsd-kind-type-alias"><a href="modules.html#StreamCloseEvent" class="tsd-kind-icon">Stream<wbr/>Close<wbr/>Event</a></li><li class="tsd-kind-type-alias"><a href="modules.html#User" class="tsd-kind-icon">User</a></li><li class="tsd-kind-type-alias"><a href="modules.html#UserRight" class="tsd-kind-icon">User<wbr/>Right</a></li><li class="tsd-kind-function"><a href="modules.html#assert" class="tsd-kind-icon">assert</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>